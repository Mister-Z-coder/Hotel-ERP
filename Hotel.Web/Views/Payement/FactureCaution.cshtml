@{
    ViewData["Title"] = "Reservation";
}
@section Scripts {
    @if (TempData["LastReglementId"] != null)
    {
        <script>
            // Fonction pour lancer l'impression
            function imprimerFacture(reglementId) {
                const printWindow = window.open(`/Report/PrintPayementFacture?id=${reglementId}`, '_blank');

                // Option 1: Impression automatique après délai
                setTimeout(() => {
                    printWindow.print();
                    // printWindow.close(); // À n'utiliser qu'après confirmation
                }, 1000);

                // Option 2: Bouton d'impression manuel (recommandé)
                // Laissez l'utilisateur cliquer sur le bouton d'impression du navigateur
            }

            // Appel automatique au chargement de la page
            document.addEventListener('DOMContentLoaded', function() {
                imprimerFacture(@TempData["LastReglementId"]);
            });
        </script>
    }
}